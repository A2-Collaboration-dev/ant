include_directories(
  .
)

set(ANALYSIS_DATASTRUCTURES
  data/Particle.cc
  data/Event.cc
  data/TaggerHit.cc
  data/Trigger.cc
  data/Slowcontrol.cc
  data/Target.cc
)

set(ANALYSIS_INPUT
  input/DataReader.h
  input/goat/detail/InputModule.cc
  input/goat/detail//TreeManager.cc
  input/goat/detail/TrackInput.cc
  input/goat/detail/ParticleInput.cc
  input/goat/detail/TriggerInput.cc
  input/goat/detail/DetectorHitInput.cc
  input/goat/detail/TaggerInput.cc
  input/goat/GoatReader.cc
  input/ant/detail/Convert.cc
  input/ant/AntReader.cc
  input/pluto/PlutoReader.cc
  input/pluto/detail/PlutoWrapper.cc
  input/geant/GeantReader.cc
  input/geant/GeantReader.h
  input/detail/SlowcontrolCreator.cc
)

set(ANALYSIS_PHYSICS
  physics/Physics.cc
  physics/PhysicsManager.cc
  physics/test/TestPhysics.cc
  physics/pi0/DeltaPlusPhysics.cc
  physics/pi0/DeltaTreeGenerator.cc
  physics/omega/omega.cc
  physics/omega/GeoAcceptance.cc
  physics/test/TestAPLCON.cc
  physics/common/DataOverview.cc
  physics/omega/mctrue_acceptance.cc
  physics/common/CandidatesAnalysis.cc
  physics/common/ParticleIDCheck.cc
  physics/common/ProtonCheck.cc
  physics/common/DebugPhysics.cc
  physics/common/ReconstructCheck.cc
  physics/common/MCSmearing.cc
  physics/tpc/PhysicsStats.cc
  physics/SlowcontrolManager.cc
  physics/etaprime/etaprime_omega_gamma.cc
  physics/etaprime/etaprime-3pi0.cc
  physics/etaprime/mctrue_3pi0.cc
  physics/common/IMPlots.cc
  physics/common/ProtonTagger.cc
  physics/common/ExtractTimings.cc
  physics/misc/XMasCB.cc
  physics/common/ExtractResolutions.cc
  physics/pi0/JustPi0.cc
  )

set(ANALYSIS_PHYSICS_CALIBRATION
  physics/calibration/Time.cc
  physics/calibration/CB_Energy.cc
  physics/calibration/CB_TimeWalk.cc
  physics/calibration/TAPS_Energy.cc
  physics/calibration/TAPS_ShortEnergy.cc
  physics/calibration/PID_Energy.cc
  physics/calibration/PID_PhiAngle.cc
  physics/calibration/TAPSVeto_Energy.cc
)

set(ANALYSIS_PLOT
  plot/Histogram.cc
  plot/root_draw.cc
  plot/SmartHist.cc
  plot/HistogramFactories.cc
  plot/TH1Dcut.cc
  plot/PromptRandomHist.cc
)

set(ANALYSIS_UTILS
  utils/combinatorics.h
  utils/matcher.h
  utils/A2GeoAcceptance.cc
  utils/ParticleID.cc
  utils/root-addons.cc
  utils/particle_tools.cc
  utils/TimeSmearingHack.cc
  utils/KinFitter.cc
  )

set(ANALYSIS_ALL
    ${ANALYSIS_DATASTRUCTURES}
    ${ANALYSIS_INPUT}
    ${ANALYSIS_PHYSICS}
    ${ANALYSIS_PHYSICS_CALIBRATION}
    ${ANALYSIS_PLOT}
    ${ANALYSIS_UTILS}
)

add_library(analysis ${ANALYSIS_ALL})
target_link_libraries(analysis
  ${ROOT_LIBRARIES}
  ${PLUTO_LIBRARY}
  ${APLCON_LIBRARY}
  base
  tree
  expconfig
  cbtaps_display
  )
